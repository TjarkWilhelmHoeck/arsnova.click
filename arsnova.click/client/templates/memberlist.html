<!--
* This file is part of ARSnova Click.
* Copyright (C) 2016 The ARSnova Team
*
* ARSnova Click is free software: you can redistribute it and/or modify
* it under the terms of the GNU General Public License as published by
* the Free Software Foundation, either version 3 of the License, or
* (at your option) any later version.
*
* ARSnova Click is distributed in the hope that it will be useful,
* but WITHOUT ANY WARRANTY; without even the implied warranty of
* MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
* GNU General Public License for more details.
*
* You should have received a copy of the GNU General Public License
* along with ARSnova Click.  If not, see <http://www.gnu.org/licenses/>.
-->

<template name="memberlist">
    {{#if isNotOwnerAndReadConfirmationNeeded}}
        {{> splashscreen templateName = "questionT" lazyClose = false headername="Frage" type="splash-screen-show-question"}}
    {{/if}}
    <div class="row">
        <div class="col-md-12 contentFrame">
            {{> titel titelText=""}}
            {{#unless isOwner}}
                <div class="row">
                    <div class=" titel-relative text-light text-center" id="attendee-in-quiz-wrapper">
                        <div class="titel margin-to-logo">Teilnehmende im Quiz <div class="hashtag_in_title">&laquo;{{hashtag}}&raquo;</div></div>
                    </div>
                </div>
            {{/unless}}
            {{#if isReadingConfirmationRequired}}
                {{> readingConfirmation }}
            {{/if}}
            {{#if showMoreButton}}
                <div class="row more-learners-row">
                    <div class="col-xs-12">
                        <button class="btn btn-more-learners">
                            <span class="glyphicon glyphicon-align-justify"></span>
                            (Zeige {{invisibleLearnerCount}} weitere)
                        </button>
                    </div>
                </div>
            {{/if}}
            <div class="row learner-list margin-title"
                 id="learner-list">
                {{#each learners}}
                    {{#each this}}
                        {{>learner}}
                    {{/each}}
                {{/each}} <!-- learners -->
            </div>
        </div>
    </div>
    {{#if isOwner}}
        <div class="fixed-bottom">
            <div class="row">
                <div class="col-md-6 col-md-offset-3">
                    <div class="row">
                        <div class="col-xs-6">
                            <button id="backButton" class="button button-back">
                                <span class="glyphicon glyphicon-arrow-left glyph-left" aria-hidden="true"></span>
                                Zurück
                            </button>
                        </div>
                        <div class="col-xs-6">
                            <button id="startPolling" class="button button-next button-start">
                                Los geht's !
                                <span class="glyphicon glyphicon-send glyph-right" aria-hidden="true"></span>
                            </button>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    {{/if}}
</template>

<template name="learner">
    <div class="col-xs-12 col-sm-6 col-md-4">
        <button class="btn btn-learner slide-top {{#if isOwnNick nick}}color-changing-own-nick{{/if}} "
                id="{{_id}}"
                style="background-color: {{backgroundColor}}; color:{{foregroundColor}}">
            {{nick}}
        </button>
    </div>
</template>

<template name="questionT">
    <p class="splashSmallTitle">{{quest}}</p>
    <br/>

    <div class="row">
        <div class="col-md-12">
            <button id="setReadConfirmed" class="" onclick="closeSplashscreen();">Das weiß ich!</button>
        </div>
    </div>
</template>

<template name="readingConfirmation">
    <div class="row confirmationCounter margin-title">
        <div class="col-xs-12">
            <div class="progress-bar-memberlist color-changing-progress-bar round-corners">
                <div class="progress-fill round-corners-left">
                    <div class="progress-fill-text">Lesebestätigung: {{percentRead}} %</div>
                </div>
                Lesebestätigung: {{percentRead}} %
            </div>
        </div>
    </div>
    {{> errorSplashscreen }}
</template>